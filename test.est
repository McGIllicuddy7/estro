extern fn none putd(word a)
extern fn none putc(word a)
extern fn byte getc()


fn word main (word argc word argv)(
	setup(
		(let byte [2] x)
		(let byte x1)
		(let word y)
		(=call x1 get)
		(= y 1)
		(goto loop)
	)
	loop(
		(loadb x1 x 1)
		(- x1 x1 1)
		(storeb x x1 1)
		(* y y 2)
		(loadb x1 x 1)
		(call putd x1)
		(if x1 goto loop else goto end)
	)
	end(	
		(call putd y)
		(=call x1 getc)
		(call putc x1)
		(return y)
    	)
)

fn word get()(
	start(
		(return 10)
	)
)
